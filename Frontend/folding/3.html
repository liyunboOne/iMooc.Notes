<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>折叠效果3</title>
<style>
	* { margin: 0; padding: 0; box-sizing: border-box; }
</style>
</head>
<body>
	<div id="wrap">
		<div id="ad"></div>
		<div id="banner">
			<a href="#">点击关闭</a>
		</div>
	</div>
<script src="http://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
+function(){
	let adBox  = document.querySelector('#ad');
	let banner = document.querySelector('#banner');

	let img = new Image();
	img.src = "http://img0.imgtn.bdimg.com/it/u=4236619970,3720894894&fm=214&gp=0.jpg";
	imgEl = `<img src="${img.src}"/>`;

	img.onload = function() {
		adBox.innerHTML = imgEl;
	}

	let s = 1;
	$(banner).on('click', function(event) {
		event.preventDefault();
		if (s) {
			$(this).children('a').text('点击展开');
			$(adBox).hide(3000);
			s = 0;
		} else {
			$(this).find('a').text('点击关闭');
			$(adBox).show(3000);
			s = 1;
		}
	});

	$(ad).on('click', function(event) {
		event.preventDefault();
		if (s) {
			$(this).fadeIn(2000);
			s = 0;
		} else {
			$(this).fadeOut(2000);
			s = 1;
		}
	});
}();
</script>
</body>
</html>